<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <!-- 引入样式 -->
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-default/index.css">
</head>
<body>
  <div id="app">
    <el-button @click="visible = true">按钮</el-button>
    <el-dialog v-model="visible" title="Hello world">
      <p>欢迎使用 Element</p>
    </el-dialog>
  </div>
</body>
  <!-- 先引入 Vue -->
  <script src="https://unpkg.com/vue/dist/vue.js"></script>
  <!-- 引入组件库 -->
  <script src="https://unpkg.com/element-ui/lib/index.js"></script>
  <script>
    new Vue({
      el: '#app',
      data: function(){
        return { visible: false }
      }
    })

    function addClass(ele, className){
      var ret = false
      if(ele){
        if(ele.classList){
          ele.classList.add(className)
        }else{
          ele.className += ' ' + className
        }
        ret = true
      }
      return ret
    }
    addClass(document.getElementById('list'), 'bar')

    function getByIndex(index){
      const ul = document.getElementById('list')
      const childrenOfUl = ul.children
      if(index < 0 || index >= childrenOfUl.length){
        throw new Error('下标越界')
      }

      return childrenOfUl[index]
    }

    function delete(index){
      const ul = document.getElementById('list')
      const shouldBeDelete = getByIndex(index)
      if(ul && shouldBeDelete){
        ul.removeChild(shouldBeDelete)
      }
    }
    delete(10)

    function addNodeByString(index, domstring){
      if(domstring && typeof domstring === 'string'){
        var li = getByIndex(index)
        if(li.insertAdjacentHTML){
          li.insertAdjacentHTML('beforeend', domstring)
        }else{
          li.innerHTML += domstring
        }
      }
    }
    addNodeByString(500, '<ul><li>&lt;v2ex.com/&gt;</li></ul>')


    function addEvent(ele, type, fn, capture){
      var ontype = 'on' + type
      if(ele.addEventListener){
          ele.addEventListener(type, fn, capture)
      }else if (ele.attactEvent) {
          ele.attactEvent(ontype, fn)
      }else{
          var handler = ele[ontype]
          if(handler && typeof handler === 'function'){
            ele[ontype] = function(){
              handler.call(ele)
              fn.call(ele)
            }
          }
      }
    }


    addEvent(document.getElementById('list'), 'click', function(e){

        var ul = e.currentTarget;
        var arrayClass = Array
        var lis = arrayClass.from ? arrayClass.from(ul.children) : arrayClass.prototype.slice.call(ul.children)
        var target = e.target
        var indexOf = function(arr, ele){
          try{
            var index = arr.indexOf(ele)
            return index
          }catch(e){
            while( i < arr.length ){
              if( arr[i++] === ele ){
                return i - 1
              }
            }
            return -1
          }
        }
        const index = indexOf(lis, target)

        if(index ! == -1){
          alert(index)
        }else{
          while ((index = indexOf(arr, target)) !== -1) {
              alert(index)
          }
        }
    }, true)
  </script>
</html>
